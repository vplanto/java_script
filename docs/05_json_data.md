# –õ–µ–∫—Ü—ñ—è 5: JSON. –ú–æ–≤–∞, —è–∫–æ—é —Å–ø—ñ–ª–∫—É—î—Ç—å—Å—è —Å–≤—ñ—Ç

## ‚ö° –ï–∫—Å–ø—Ä–µ—Å-–æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è: –ß–∏ —î —Ü–µ –≤–∞–ª—ñ–¥–Ω–∏–º JSON?

1.  `{ name: "Vitaliy" }`
2.  `{ "name": 'Vitaliy' }`
3.  `{ "score": 100, }` (–∑ –∫–æ–º–æ—é –≤ –∫—ñ–Ω—Ü—ñ)
4.  `{ "method": function() { alert(1) } }`

<details markdown="1">
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—ñ</summary>

1.  **–ù—ñ.** –ö–ª—é—á—ñ *–æ–±–æ–≤'—è–∑–∫–æ–≤–æ* –º–∞—é—Ç—å –±—É—Ç–∏ –≤ –ø–æ–¥–≤—ñ–π–Ω–∏—Ö –ª–∞–ø–∫–∞—Ö.
2.  **–ù—ñ.** JSON –≤–∏–∑–Ω–∞—î —Ç—ñ–ª—å–∫–∏ **–ø–æ–¥–≤—ñ–π–Ω—ñ** –ª–∞–ø–∫–∏ `"`.
3.  **–ù—ñ.** Trailing comma (–∫–æ–º–∞ –≤ –∫—ñ–Ω—Ü—ñ) –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–∞ –≤ —á–∏—Å—Ç–æ–º—É JSON.
4.  **–ù—ñ.** JSON ‚Äî —Ü–µ –¥–∞–Ω—ñ. –§—É–Ω–∫—Ü—ñ—ó ‚Äî —Ü–µ –∫–æ–¥. JSON –Ω–µ –º–æ–∂–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –∫–æ–¥ (—ñ —Ü–µ –¥–æ–±—Ä–µ –¥–ª—è –±–µ–∑–ø–µ–∫–∏).

</details>

---

## 1. –©–æ —Ç–∞–∫–µ JSON?

**JSON (JavaScript Object Notation)** ‚Äî —Ü–µ —Ç–µ–∫—Å—Ç–æ–≤–∏–π —Ñ–æ—Ä–º–∞—Ç –æ–±–º—ñ–Ω—É –¥–∞–Ω–∏–º–∏.
–•–æ—á–∞ –≤ –Ω–∞–∑–≤—ñ —î —Å–ª–æ–≤–æ JavaScript, –∑–∞—Ä–∞–∑ —Ü–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è **–≤—Å—ñ—Ö** –º–æ–≤ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è (Python, Java, C++, Go).

### –Ü–Ω–∂–µ–Ω–µ—Ä–Ω–∏–π –ø–æ–≥–ª—è–¥:
–£ –ø–∞–º'—è—Ç—ñ –∫–æ–º–ø'—é—Ç–µ—Ä–∞ (Heap) –æ–±'—î–∫—Ç ‚Äî —Ü–µ —Å–∫–ª–∞–¥–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏.
–©–æ–± –ø–µ—Ä–µ–¥–∞—Ç–∏ —Ü–µ–π –æ–±'—î–∫—Ç –ø–æ –º–µ—Ä–µ–∂—ñ –∞–±–æ –∑–±–µ—Ä–µ–≥—Ç–∏ —É —Ñ–∞–π–ª, –Ω–∞–º —Ç—Ä–µ–±–∞ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –π–æ–≥–æ –Ω–∞ **–†—è–¥–æ–∫ (String)**.
–¶–µ–π –ø—Ä–æ—Ü–µ—Å –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è **–°–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è**.

```mermaid
graph LR;
    Heap[JS Object in Memory] -->|JSON.stringify| String[JSON String];
    String -->|Network / Disk| Storage;
```

-----

## 2\. –°–∏–Ω—Ç–∞–∫—Å–∏—Å: –°—É–≤–æ—Ä—ñ—Å—Ç—å –∑–∞–∫–æ–Ω—É

–ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ JS –æ–±'—î–∫—Ç—ñ–≤, JSON –Ω–µ –ø—Ä–æ–±–∞—á–∞—î –ø–æ–º–∏–ª–æ–∫ .

  * **–ö–ª—é—á—ñ:** –¢—ñ–ª—å–∫–∏ `"key"`.
  * **–ó–Ω–∞—á–µ–Ω–Ω—è:**
      * –†—è–¥–∫–∏ `"string"`
      * –ß–∏—Å–ª–∞ `10`, `3.14`
      * –ë—É–ª–µ–≤—ñ `true`, `false`
      * `null`
      * –ú–∞—Å–∏–≤–∏ `[]`
      * –û–±'—î–∫—Ç–∏ `{}`
  * **–ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ:**
      * `undefined`
      * –§—É–Ω–∫—Ü—ñ—ó
      * –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ `//` (JSON ‚Äî —Ü–µ –¥–∞–Ω—ñ, –∞ –Ω–µ –∫–æ–¥) .

-----

## 3\. JSON vs XML: –ß–æ–º—É XML –ø—Ä–æ–≥—Ä–∞–≤?

–†–∞–Ω—ñ—à–µ (—É 90-—Ö —Ç–∞ 00-—Ö) —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º –±—É–≤ **XML** .

**–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è:**

**XML:**

```xml
<user>
  <id>1</id>
  <name>Vitaliy</name>
</user>
```

**JSON:**

```json
{
  "id": 1,
  "name": "Vitaliy"
}
```

**–ß–æ–º—É –ø–µ—Ä–µ–º—ñ–≥ JSON?** 

1.  **–†–æ–∑–º—ñ—Ä:** –ú–µ–Ω—à–µ —Å–∏–º–≤–æ–ª—ñ–≤ (–Ω–µ–º–∞—î –∑–∞–∫—Ä–∏–≤–∞—é—á–∏—Ö —Ç–µ–≥—ñ–≤). –ï–∫–æ–Ω–æ–º—ñ—è —Ç—Ä–∞—Ñ—ñ–∫—É.
2.  **–ü–∞—Ä—Å–∏–Ω–≥:** –£ JavaScript JSON –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–∞ –æ–±'—î–∫—Ç –æ–¥–Ω—ñ—î—é –∫–æ–º–∞–Ω–¥–æ—é. –î–ª—è XML –ø–æ—Ç—Ä—ñ–±–µ–Ω –≥—Ä–æ–º—ñ–∑–¥–∫–∏–π `DOMParser` .
3.  **–ß–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å:** JSON –ª–µ–≥—à–µ —Å–ø—Ä–∏–π–º–∞—î—Ç—å—Å—è –æ–∫–æ–º —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞.

> **–î–µ –∑–∞–ª–∏—à–∏–≤—Å—è XML?**
>
>   * `sitemap.xml` (–¥–ª—è Google).
>   * RSS —Å—Ç—Ä—ñ—á–∫–∏.
>   * –°—Ç–∞—Ä—ñ –±–∞–Ω–∫—ñ–≤—Å—å–∫—ñ —Å–∏—Å—Ç–µ–º–∏ (SOAP).
>   * SVG –∫–∞—Ä—Ç–∏–Ω–∫–∏ (—Ü–µ —Ç–µ–∂ XML\!).

-----

## 4\. –†–æ–±–æ—Ç–∞ –≤ JavaScript

–£ –Ω–∞—Å —î –¥–≤–∞ –≥–æ–ª–æ–≤–Ω—ñ –º–µ—Ç–æ–¥–∏ :

### `JSON.stringify(obj)`

–ü–µ—Ä–µ—Ç–≤–æ—Ä—é—î –æ–±'—î–∫—Ç –Ω–∞ —Ä—è–¥–æ–∫.

```javascript
const user = { name: "Alex", level: 5 };
const data = JSON.stringify(user); 
// –†–µ–∑—É–ª—å—Ç–∞—Ç: '{"name":"Alex","level":5}'
```

### `JSON.parse(string)`

–ü–µ—Ä–µ—Ç–≤–æ—Ä—é—î —Ä—è–¥–æ–∫ –Ω–∞–∑–∞–¥ –Ω–∞ –æ–±'—î–∫—Ç.

```javascript
const obj = JSON.parse(data);
console.log(obj.name); // "Alex"
```

### ‚ö†Ô∏è –Ü–Ω–∂–µ–Ω–µ—Ä–Ω–∞ –Ω–µ–±–µ–∑–ø–µ–∫–∞

`JSON.parse()` ‚Äî —Ü–µ –Ω–µ–±–µ–∑–ø–µ—á–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è. –Ø–∫—â–æ —Ä—è–¥–æ–∫ –±–∏—Ç–∏–π, —Å–∫—Ä–∏–ø—Ç **–≤–ø–∞–¥–µ** –∑ –ø–æ–º–∏–ª–∫–æ—é (`SyntaxError`), —ñ –≤–∞—à–∞ –≥—Ä–∞ –∑–ª–∞–º–∞—î—Ç—å—Å—è.

**–ü—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–∞—Ç–µ—Ä–Ω:**

```javascript
try {
    const data = JSON.parse(serverData);
} catch (e) {
    console.error("–î–∞–Ω—ñ –ø–æ—à–∫–æ–¥–∂–µ–Ω–æ!", e);
    // –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –¥–µ—Ñ–æ–ª—Ç–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
}
```

-----

## 5\. LocalStorage: –ö–∏—à–µ–Ω—è –±—Ä–∞—É–∑–µ—Ä–∞

–ú–∏ —Ö–æ—á–µ–º–æ, —â–æ–± –Ω–∞—à–∞ –≥—Ä–∞ –ø–∞–º'—è—Ç–∞–ª–∞ –ø—Ä–æ–≥—Ä–µ—Å.
–ë—Ä–∞—É–∑–µ—Ä –º–∞—î —Å—Ö–æ–≤–∏—â–µ **LocalStorage**. –í–æ–Ω–æ –∂–∏–≤–µ –≤—ñ—á–Ω–æ (–ø–æ–∫–∏ –Ω–µ –ø–æ—á–∏—Å—Ç–∏—à –∫–µ—à) .

**–û–±–º–µ–∂–µ–Ω–Ω—è:** `localStorage` –≤–º—ñ—î –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ **—Ç—ñ–ª—å–∫–∏ —Ä—è–¥–∫–∏**.
–í–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –∑–±–µ—Ä–µ–≥—Ç–∏ —Ç–∞–º –æ–±'—î–∫—Ç.

**–Ø–∫ –∑–±–µ—Ä–µ–≥—Ç–∏ –≥—Ä—É:**

1.  –ë–µ—Ä–µ–º–æ –æ–±'—î–∫—Ç `gameState`.
2.  `JSON.stringify(gameState)`.
3.  `localStorage.setItem('save', string)`.

**–Ø–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≥—Ä—É:**

1.  `localStorage.getItem('save')`.
2.  `JSON.parse(string)`.

-----

## üõ† –ü—Ä–∞–∫—Ç–∏–∫—É–º: "–ó–ª–∞–º –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è"

1.  –í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—É–¥—å-—è–∫–∏–π —Å–∞–π—Ç, –¥–µ —É –≤–∞—Å —î –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ç–µ–º–Ω–∞ —Ç–µ–º–∞).
2.  –í—ñ–¥–∫—Ä–∏–π—Ç–µ **DevTools -\> Application -\> Local Storage**.
3.  –í–∏ –ø–æ–±–∞—á–∏—Ç–µ –ø–∞—Ä–∏ –ö–ª—é—á-–ó–Ω–∞—á–µ–Ω–Ω—è.
4.  –°–ø—Ä–æ–±—É–π—Ç–µ –∑–º—ñ–Ω–∏—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –≤—Ä—É—á–Ω—É. –û–Ω–æ–≤—ñ—Ç—å —Å—Ç–æ—Ä—ñ–Ω–∫—É.
      * *–°–∞–π—Ç –∑–ª–∞–º–∞–≤—Å—è? –ß–∏ –ø—Ä–∏–π–Ω—è–≤ –≤–∞—à—ñ –∑–º—ñ–Ω–∏?*

## üè† –î–æ–º–∞—à–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è

–†–µ–∞–ª—ñ–∑—É–π—Ç–µ **–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ä–µ–∫–æ—Ä–¥—É** —É –≤–∞—à—ñ–π –≥—Ä—ñ (Pong –∞–±–æ Bad UI).

1.  –ü—Ä–∏ –∑–º—ñ–Ω—ñ –æ—á–æ–∫ –∑–±–µ—Ä—ñ–≥–∞–π—Ç–µ —ó—Ö —É `localStorage`.
2.  –ü—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ (`window.onload`) —á–∏—Ç–∞–π—Ç–µ –∑–Ω–∞—á–µ–Ω–Ω—è —ñ –≤—ñ–¥–Ω–æ–≤–ª—é–π—Ç–µ —Ä–∞—Ö—É–Ω–æ–∫.
3.  **–ë–æ–Ω—É—Å:** –ó—Ä–æ–±—ñ—Ç—å –∫–Ω–æ–ø–∫—É "Reset Score", —è–∫–∞ –æ—á–∏—â–∞—î –ø–∞–º'—è—Ç—å.